{"ast":null,"code":"var _jsxFileName = \"/home/trevor/projects/pos-frontend/src/components/menu/Modify.js\",\n    _s = $RefreshSig$();\n\nimport { menuState } from '../state/Atoms';\nimport { useRecoilState } from 'recoil';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Modify(_ref) {\n  _s();\n\n  let {\n    categories,\n    db\n  } = _ref;\n  const [menu, setMenuState] = useRecoilState(menuState);\n  const optionsArray = [];\n  const {\n    currentCategory,\n    currentItems,\n    selection,\n    pending,\n    active,\n    requiredItems\n  } = menu;\n  console.log(requiredItems);\n\n  for (const item of db) {\n    if (item.menu === 'modify') {\n      for (const addon of item.addons) {\n        if (addon.category === currentCategory) {\n          optionsArray.push(addon);\n        }\n      }\n    }\n  }\n\n  const checkRequired = item => {\n    console.log(currentItems);\n\n    for (const option of selection.options) {\n      const num = currentItems.filter(x => x === option.category).length;\n\n      if (currentCategory === option.category && option.num === num) {\n        console.log(option);\n        validate();\n        return true;\n      }\n    }\n  };\n\n  const validate = () => {\n    const valid = [];\n\n    for (const option of pending.modify) {\n      valid.push(option.category);\n    }\n\n    console.log(valid);\n  };\n\n  if (checkRequired()) {\n    console.log(true);\n  }\n\n  const addItem = item => {\n    if (checkRequired()) {\n      console.log('true');\n    } else {\n      setMenuState({ ...menu,\n        pending: { ...menu.pending,\n          modify: [...menu.pending.modify, item]\n        },\n        currentItems: [...currentItems, item.category]\n      });\n    }\n  };\n\n  return optionsArray.map((item, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: () => addItem(item),\n    className: \"menu_item\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menuItemText\",\n      children: item.food\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 16\n    }, this)\n  }, i, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 11\n  }, this));\n}\n\n_s(Modify, \"2D0T/8me5HEOOx8SkvJL235x9iQ=\", false, function () {\n  return [useRecoilState];\n});\n\n_c = Modify;\nexport default Modify;\n\nvar _c;\n\n$RefreshReg$(_c, \"Modify\");","map":{"version":3,"sources":["/home/trevor/projects/pos-frontend/src/components/menu/Modify.js"],"names":["menuState","useRecoilState","Modify","categories","db","menu","setMenuState","optionsArray","currentCategory","currentItems","selection","pending","active","requiredItems","console","log","item","addon","addons","category","push","checkRequired","option","options","num","filter","x","length","validate","valid","modify","addItem","map","i","food"],"mappings":"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","sourcesContent":["import { menuState } from '../state/Atoms';\nimport { useRecoilState } from 'recoil';\n\nfunction Modify({ categories, db }) {\n     const [menu, setMenuState] = useRecoilState(menuState);\n     const optionsArray = [];\n\n     const {\n          currentCategory,\n          currentItems,\n          selection,\n          pending,\n          active,\n          requiredItems,\n     } = menu;\n\n     console.log(requiredItems);\n\n     for (const item of db) {\n          if (item.menu === 'modify') {\n               for (const addon of item.addons) {\n                    if (addon.category === currentCategory) {\n                         optionsArray.push(addon);\n                    }\n               }\n          }\n     }\n\n     const checkRequired = (item) => {\n          console.log(currentItems);\n          for (const option of selection.options) {\n               const num = currentItems.filter(\n                    (x) => x === option.category\n               ).length;\n               if (currentCategory === option.category && option.num === num) {\n                    console.log(option);\n                    validate();\n                    return true;\n               }\n          }\n     };\n\n     const validate = () => {\n          const valid = [];\n          for (const option of pending.modify) {\n               valid.push(option.category);\n          }\n          console.log(valid);\n     };\n\n     if (checkRequired()) {\n          console.log(true);\n     }\n\n     const addItem = (item) => {\n          if (checkRequired()) {\n               console.log('true');\n          } else {\n               setMenuState({\n                    ...menu,\n                    pending: {\n                         ...menu.pending,\n                         modify: [...menu.pending.modify, item],\n                    },\n                    currentItems: [...currentItems, item.category],\n               });\n          }\n     };\n\n     return optionsArray.map((item, i) => (\n          <div onClick={() => addItem(item)} key={i} className='menu_item'>\n               <div className='menuItemText'>{item.food}</div>\n          </div>\n     ));\n}\n\nexport default Modify;\n"]},"metadata":{},"sourceType":"module"}